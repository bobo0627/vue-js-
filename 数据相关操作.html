<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    /**
     * 
     * 数组操作 reduce() 方法
     * 
    */
    var arr1 = [5,6,8,55,12,13]
    //求和  prev 上次返回的值或 初始值 ； cur 当前值 ； 初始值为0
    var reduces = arr1.reduce(function(prev,cur){
        return prev+=cur
    },0)
    console.log("reduce求和结果：",reduces)
    //求最大值  初始值未赋值
    var arr2 = "5,6,8,55,12,13"
    arr2 = arr2.split(",")//字符串转数组
    var reduceMax = arr1.reduce(function(prev,cur){
        return Math.max(prev,cur)
    })
    console.log("reduce求最大值结果：",reduceMax)
    //数组去重  初始值给一个空数组，判断 cur是否存在于prev数组中 
    var arr3 = [1,5,11,22,55,11,1,3,5,22]
    var reduceNew = arr1.reduce(function(prev,cur){
        prev.indexOf(cur) === -1 && prev.push(cur)
        return prev
    },[])
    console.log("reduce数组去重结果：",reduceNew)

    /**
     * 
     * 数组操作 forEach() 方法   用于遍历数组， 无返回值  break 无效
     * 简单的 将数组翻倍 
    */
    var arr4 = [1,5,11,22,55,11,1,3,5,22]
    arr4.forEach((item,index,array)=>{
        array[index] = item * 2
    })
    console.log(arr4)//[2, 10, 22, 44, 110, 22, 2, 6, 10, 44]
    /**
     * 
     * 数组操作 map() 方法   用于遍历数组， 有返回值  break 无效
     * 简单的 将数组翻倍 有返回值 不会影响原数组
    */
    var arr5 = [1,5,11,22,55,11,1,3,5,22]
    var mapArr = arr5.map((item,index,array)=>{
        return item * 2
    })
    console.log(mapArr)//[2, 10, 22, 44, 110, 22, 2, 6, 10, 44]
    /**
     * 
     * 数组操作 every() 方法   用于判断数组每一项 是否满足条件，返回一个 布尔值
     * 
    */
    var arr6 = [1,5,11,22,55,11,1,3,5,22]
    var everyArr = arr6.every((item,index,array)=>{
        return item > 0
    })
    console.log(everyArr)//true

    /**
     * 
     * 数组操作 some() 方法   用于判断数组是否有满足条件的元素，返回一个 布尔值
     * 
    */
    var arr7 = [1,5,11,22,55,11,1,3,5,22]
    var someArr = arr6.some((item,index,array)=>{
        return item < 0
    })
    console.log(someArr)//false

    /**
     * 
     * 数组操作 filter() 方法   用于筛选数组是否有满足条件的元素，返回一个筛选后的新数组
     * 
    */
    var arr8= [1,5,11,22,55,11,1,3,5,22]
    var filterArr = arr6.filter((item,index,array)=>{
        return item > 20
    })
    console.log(filterArr)//[22,55,22]
    //filter数组去重
    var quchong = arr6.filter((item,index,array)=>{
        return index == array.indexOf(item)
    })
    console.log('filter去chong',quchong)
    /**
     * 
     *  forEach map  every some filter 均属ES5方法 除了传递一个匿名函数作为参数之外，还可以传第二个参数，
     * 该参数用于指定匿名函数内的this指向
     * 
    */
    //指传一个匿名函数
     arr4.forEach(function(item,index,array){
        //console.log(this)//window
     })
     //2个参数  this 指向 参数数组
     arr4.forEach(function(item,index,array){
        //console.log(this)//[2, 10, 22, 44, 110, 22, 2, 6, 10, 44]
     },arr4)

     /**
     * 
     * forEach()无返回值，map()和filter()返回新数组，every()和some()返回布尔值
     * 匿名函数中this指向默认为window，可通过传第二参数来更改之
     * 五种遍历方法均为ES5方法
     * 
    */
</script>
</html>